{% extends "base.html" %}

{% block content %}
<div class="row">
    <!-- Available Players Table -->
    <div class="col-12 mb-5">
        <h2>Available Players</h2>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">Rank</th>
                        <th scope="col">Name</th>
                        <th scope="col">Position</th>
                        <th scope="col">Team</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in available.players %}
                    <tr>
                        <td>{{ player.adp }}</td>
                        <td>{{ player.player }}</td>
                        <td>{{ player.position }}</td>
                        <td>{{ player.team }}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="4" class="text-center">No available players found.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {{ render_pagination(available, 'page_available', '&page_drafted=' + drafted.page|string) }}
    </div>

    <!-- Drafted Players Table -->
    <div class="col-12">
        <h2>Drafted Players</h2>
        <div class="table-responsive">
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th scope="col">ADP</th>
                        <th scope="col">Name</th>
                        <th scope="col">Position</th>
                        <th scope="col">Team</th>
                        <th scope="col">Owner</th>
                    </tr>
                </thead>
                <tbody>
                    {% for player in drafted.players %}
                    <tr>
                        <td>{{ player.adp }}</td>
                        <td>{{ player.player }}</td>
                        <td>{{ player.position }}</td>
                        <td>{{ player.team }}</td>
                        <td>
                            {% if player.team_id %}
                                <a href="{{ url_for('read_team', team_id=player.team_id) }}">{{ player.owner }}</a>
                            {% else %}
                                {{ player.owner }}
                            {% endif %}
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" class="text-center">No players have been drafted yet.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {{ render_pagination(drafted, 'page_drafted', '&page_available=' + available.page|string) }}
    </div>
</div>
{% endblock %}

